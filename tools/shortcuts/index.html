---
layout: default
title: "ショートカットキー習得ツール"
description: "効率的に作業するための各種アプリケーションのショートカットキーを学べるツール"
keywords: "ショートカットキー, Windows, Mac, Excel, Google スプレッドシート, 生産性向上"
---

<style>
  /* レイアウト調整のためのグローバルスタイル上書き */
  body {
    max-width: 100% !important; /* bodyの最大幅の制限を解除 */
    padding: 10px !important;
  }
  
  .container {
    max-width: 100% !important; /* containerの最大幅の制限を解除 */
    width: 100% !important;
  }
  
  main {
    max-width: 100% !important; /* mainの最大幅の制限を解除 */
    width: 100% !important;
  }
  
  /* ベース設定 */
  * { 
    box-sizing: border-box; 
    margin: 0; 
    padding: 0; 
  }
  
  .shortcuts-container {
    width: 100%; 
    max-width: 1200px; /* コンテナの最大幅を1200pxに設定 */
    margin: 0 auto;
    padding: 20px;
    background: #fff;
    border: 1px solid var(--border-color);
    border-radius: var(--radius);
    box-shadow: var(--shadow);
  }
  
  h2 {
    color: var(--primary-color);
    font-size: 1.5rem;
    margin: 25px 0 15px;
    padding-bottom: 8px;
    border-bottom: 1px solid var(--border-color);
  }

  /* コントロール部分 */
  .controls {
    display: flex; 
    align-items: center;
    gap: 15px; 
    margin-bottom: 30px;
    flex-wrap: wrap; 
    justify-content: center;
  }
  
  .platform-selector {
    display: flex;
    gap: 5px;
    background: #f8f9fa;
    border-radius: var(--radius);
    padding: 5px;
    margin-right: 10px;
    flex-wrap: wrap;
  }
  
  .platform-btn {
    padding: 8px 16px;
    font-size: 14px;
    border: none;
    border-radius: var(--radius);
    background: transparent;
    color: #606060;
    cursor: pointer;
    transition: all 0.2s ease;
  }
  
  .platform-btn:hover {
    background: rgba(0, 94, 153, 0.1);
  }
  
  .platform-btn.active {
    background: var(--primary-color);
    color: white;
    box-shadow: 0 2px 8px rgba(0, 94, 153, 0.3);
  }
  
  .search-box {
    display: flex;
    background: #f8f9fa;
    border-radius: var(--radius);
    padding: 5px 10px;
    flex-grow: 1;
    max-width: 300px;
    border: 1px solid var(--border-color);
    height: 40px; /* 検索ボックスの高さを固定 */
  }
  
  .search-box input {
    width: 100%;
    border: none;
    background: transparent;
    padding: 0 8px; /* パディングを上下なしに設定 */
    font-size: 14px;
    color: var(--text-color);
    height: 30px; /* 入力欄の高さを固定 */
  }
  
  .search-box input:focus {
    outline: none;
  }
  
  .search-box input::placeholder {
    color: #95a5a6;
  }
  
  .fav-btn {
    padding: 8px 16px;
    font-size: 14px;
    border: none;
    border-radius: var(--radius);
    background: #f8f9fa;
    color: #606060;
    cursor: pointer;
    transition: all 0.2s ease;
    display: flex;
    align-items: center;
    gap: 5px;
    border: 1px solid var(--border-color);
    height: 40px; /* ボタンの高さを固定 */
  }
  
  .fav-btn:hover {
    background: rgba(0, 94, 153, 0.1);
  }
  
  .fav-btn.active {
    background: var(--primary-color);
    color: white;
    box-shadow: 0 2px 8px rgba(0, 94, 153, 0.3);
  }
  
  .fav-icon {
    font-size: 18px;
    position: relative;
    top: -1px;
  }

  /* ショートカットカード */
  .category-section {
    margin-bottom: 30px;
    width: 100%;
  }
  
  .grid-container {
    display: grid;
    grid-template-columns: repeat(3, 1fr); /* 固定で3列のグリッドに変更 */
    gap: 20px;
  }
  
  .panel {
    position: relative; 
    padding: 20px;
    border-radius: var(--radius);
    background: #fff;
    box-shadow: var(--shadow);
    transition: all 0.3s ease;
    border: 1px solid var(--border-color);
  }
  
  .panel:hover {
    transform: translateY(-3px);
    box-shadow: 0 6px 20px rgba(0,0,0,0.12);
  }
  
  .panel .star {
    position: absolute; 
    top: 20px; /* 上部の位置調整 */
    right: 15px;
    font-size: 22px; 
    cursor: pointer;
    color: #ddd; 
    transition: all 0.2s;
    line-height: 1;
  }
  
  .panel .star.favorited {
    color: var(--primary-color);
  }
  
  .panel .help-icon {
    position: absolute; 
    top: 20px; /* 上部の位置調整 */
    right: 45px;
    width: 22px; 
    height: 22px;
    background: #aaa;
    color: white;
    border-radius: 50%;
    display: flex;
    align-items: center;
    justify-content: center;
    font-size: 14px;
    font-weight: bold;
    cursor: pointer;
    transition: all 0.2s;
    line-height: 1;
    opacity: 0.8;
  }
  
  .panel:hover .help-icon {
    background: var(--primary-color);
    opacity: 1;
  }
  
  .panel strong {
    display: block; 
    margin-bottom: 12px;
    color: var(--text-color); 
    font-size: 16px;
    font-weight: 600;
    margin-top: 0; /* 上部マージンを削除 */
    line-height: 22px; /* 行の高さを設定 */
    padding-right: 70px; /* アイコン用の右側余白 */
  }
  
  .keys, .sequence-keys {
    display: flex;
    flex-wrap: wrap;
    gap: 5px;
  }
  
  .key {
    padding: 4px 8px;
    background: #f8f9fa;
    border-radius: var(--radius);
    font-size: 13px;
    font-weight: 500;
    color: var(--text-color);
    border: 1px solid var(--border-color);
  }
  
  .key-step { 
    display: flex; 
    gap: 2px; 
    background: rgba(0, 94, 153, 0.05); 
    border-radius: var(--radius); 
    padding: 2px; 
  }
  
  .key-arrow { 
    color: #95a5a6; 
    font-weight: 600; 
    margin: 0 2px; 
  }
  
  .no-results { 
    grid-column: 1 / -1; 
    text-align: center; 
    padding: 40px; 
    color: #7f8c8d; 
    font-size: 16px; 
  }
  
  .tooltip { 
    position: absolute; 
    display: none; 
    background: var(--primary-dark); 
    color: white; 
    padding: 10px 15px; 
    border-radius: var(--radius); 
    max-width: 100%; 
    width: calc(100% - 40px); 
    z-index: 100; 
    top: 50px; /* 位置を下げる */
    right: 20px; 
    box-shadow: var(--shadow); 
    font-size: 14px; 
    line-height: 1.5; 
  }
  
  /* アニメーション */
  @keyframes fadeIn { 
    from { 
      opacity: 0; 
      transform: translateY(10px); 
    } 
    to { 
      opacity: 1; 
      transform: translateY(0); 
    } 
  }
  
  .panel { 
    animation: fadeIn 0.3s ease-out forwards; 
  }
  
  /* レスポンシブデザイン */
  @media (max-width: 1200px) {
    .grid-container {
      grid-template-columns: repeat(2, 1fr); /* タブレットサイズでは2列に */
    }
  }
  
  @media (max-width: 768px) { 
    .shortcuts-container { 
      padding: 15px; 
    }
    
    .controls { 
      flex-direction: column; 
      align-items: stretch; 
    }
    
    .platform-selector { 
      overflow-x: auto; 
      justify-content: flex-start; 
      margin-right: 0; 
    }
    
    .search-box { 
      max-width: 100%; 
    }
    
    .grid-container {
      grid-template-columns: 1fr; /* モバイルでは1列に */
    }
  }
</style>

<div class="shortcuts-container">
  <h1>ショートカットキー習得ツール</h1>
  
  <div class="controls">
    <div class="platform-selector">
      <button class="platform-btn active" data-platform="windows">Windows</button>
      <button class="platform-btn" data-platform="mac">Mac</button>
      <button class="platform-btn" data-platform="excel">Excel</button>
      <button class="platform-btn" data-platform="googlespreadsheet">Google Sheet</button>
    </div>
    <div class="search-box">
      <input type="text" id="searchInput" placeholder="ショートカットを検索...">
    </div>
    <button id="toggleFav" class="fav-btn">
      <span class="fav-icon">☆</span>
      <span class="btn-text">お気に入りのみ</span>
    </button>
  </div>
  
  <div id="shortcuts-container"></div>
</div>

<script>
  document.addEventListener('DOMContentLoaded', () => {
    const shortcutsContainer = document.getElementById('shortcuts-container');
    const searchInput = document.getElementById('searchInput');
    const favBtn = document.getElementById('toggleFav');
    const platformBtns = document.querySelectorAll('.platform-btn');
    let shortcuts = {};
    let currentPlatform = 'windows';
    let showingFavsOnly = false;
    let favs = JSON.parse(localStorage.getItem('shortcut_favorites') || '[]');
    let searchTerm = '';
    let currentTooltip = null;

    fetch('shortcuts.json')
      .then(res => res.json())
      .then(data => { shortcuts = data; renderShortcuts(); })
      .catch(err => { console.error('データ読み込みエラー:', err); shortcutsContainer.innerHTML = '<div class="no-results">ショートカットデータを読み込めませんでした。</div>'; });

    searchInput.addEventListener('input', e => { searchTerm = e.target.value.toLowerCase(); renderShortcuts(); });
    platformBtns.forEach(btn => btn.addEventListener('click', () => { platformBtns.forEach(b=>b.classList.remove('active')); btn.classList.add('active'); currentPlatform = btn.dataset.platform; renderShortcuts(); }));
    favBtn.addEventListener('click', () => { favBtn.classList.toggle('active'); showingFavsOnly = favBtn.classList.contains('active'); favBtn.querySelector('.fav-icon').textContent = showingFavsOnly ? '★' : '☆'; favBtn.querySelector('.btn-text').textContent = showingFavsOnly ? '全て表示' : 'お気に入りのみ'; renderShortcuts(); });
    document.addEventListener('click', e => { if (e.target.classList.contains('help-icon')) return; if (currentTooltip) { currentTooltip.style.display = 'none'; currentTooltip = null; } });

    function renderPanel(item, index) {
      const isFav = favs.includes(item.action);
      const delay = Math.min(index * 30, 300);
      const isSeq = item.sequence === true;
      const comment = item.comment || '';
      let keysHtml = '';
      if (isSeq) {
        if (item.steps) {
          keysHtml = item.keys.map((stepKeys, i) => `<div class="key-step">${stepKeys.map(k=>`<span class="key">${k}</span>`).join('')}</div>${i<item.keys.length-1?'<span class="key-arrow">→</span>':''}`).join('');
        } else {
          keysHtml = item.keys.map((k,i)=>`<span class="key">${k}</span>${i<item.keys.length-1?'<span class="key-arrow">→</span>':''}`).join('');
        }
      } else {
        keysHtml = item.keys.map(k=>`<span class="key">${k}</span>`).join('');
      }
      return `
        <div class="panel" data-action="${item.action}" style="animation-delay: ${delay}ms">
          <div class="star ${isFav?'favorited':''}">★</div>
          <div class="help-icon" title="詳細を表示">?</div>
          <div class="tooltip">${comment}</div>
          <strong>${item.action}</strong>
          <div class="${isSeq?'sequence-keys':'keys'}">${keysHtml}</div>
        </div>
      `;
    }

    function renderShortcuts() {
      const data = shortcuts[currentPlatform]||{};
      let html = '';

      if (showingFavsOnly) {
        let list = Object.values(data).flat().filter(item=>favs.includes(item.action));
        if (searchTerm) list = list.filter(item=>item.action.toLowerCase().includes(searchTerm)||(item.comment&&item.comment.toLowerCase().includes(searchTerm)));
        const seen=new Set();
        list = list.filter(item=>{ if(seen.has(item.action)) return false; seen.add(item.action); return true; });
        if (list.length>0) {
          html += `<div class="category-section"><h2>お気に入り</h2><div class="grid-container">`;
          list.forEach((item,i)=> html+=renderPanel(item,i));
          html += `</div></div>`;
        } else html = '<div class="no-results">該当するショートカットが見つかりません</div>';
        shortcutsContainer.innerHTML = html;
      } else {
        //おすすめ
        let allItems = Object.values(data).flat();
        let rec = allItems.filter(item=>item.recommend);
        if (searchTerm) rec = rec.filter(item=>item.action.toLowerCase().includes(searchTerm)||(item.comment&&item.comment.toLowerCase().includes(searchTerm)));
        if (rec.length>0) {
          html += `<div class="category-section"><h2>おすすめショートカット</h2><div class="grid-container">`;
          rec.forEach((item,i)=> html+=renderPanel(item,i));
          html += `</div></div>`;
        }
        //カテゴリ別
        Object.keys(data).forEach(category=>{
          let list = data[category];
          if (searchTerm) list = list.filter(item=>item.action.toLowerCase().includes(searchTerm)||(item.comment&&item.comment.toLowerCase().includes(searchTerm)));
          if (list.length>0) {
            html += `<div class="category-section"><h2>${category}</h2><div class="grid-container">`;
            list.forEach((item,i)=> html+=renderPanel(item,i));
            html += `</div></div>`;
          }
        });
        shortcutsContainer.innerHTML = html;
      }

      // 星クリック
      document.querySelectorAll('.panel .star').forEach(star=>{
        star.addEventListener('click', e=>{
          e.stopPropagation();
          const action = e.currentTarget.parentElement.dataset.action;
          if (favs.includes(action)) favs = favs.filter(a=>a!==action);
          else favs.push(action);
          localStorage.setItem('shortcut_favorites', JSON.stringify(favs));
          document.querySelectorAll(`.panel[data-action=\"${action}\"] .star`).forEach(s=>s.classList.toggle('favorited'));
          if (showingFavsOnly) renderShortcuts();
        });
      });
      // ツールチップ
      document.querySelectorAll('.panel .help-icon').forEach(icon=>{
        icon.addEventListener('click', e=>{
          e.stopPropagation();
          if (currentTooltip) { currentTooltip.style.display='none'; if (currentTooltip===icon.nextElementSibling) { currentTooltip=null; return; } }
          const tip = icon.nextElementSibling;
          tip.style.display='block'; currentTooltip=tip;
          tip.style.width=(icon.parentElement.offsetWidth-40)+'px';
        });
      });
    }
  });
</script>