---
layout: default
title: "ショートカットキー習得ツール"
description: "効率的に作業するための各種アプリケーションのショートカットキーを学べるツール"
keywords: "ショートカットキー, Windows, Mac, Excel, Google スプレッドシート, 生産性向上"
---

<style>
  /* レイアウト調整のためのグローバルスタイル上書き */
  body {
    max-width: 100% !important; /* bodyの最大幅の制限を解除 */
    padding: 10px !important;
  }
  
  .container {
    max-width: 100% !important; /* containerの最大幅の制限を解除 */
    width: 100% !important;
  }
  
  main {
    max-width: 100% !important; /* mainの最大幅の制限を解除 */
    width: 100% !important;
  }
  
  /* ベース設定 */
  * { 
    box-sizing: border-box; 
    margin: 0; 
    padding: 0; 
  }
  
  .shortcuts-container {
    width: 100%; 
    max-width: 1200px; /* コンテナの最大幅を1200pxに設定 */
    margin: 0 auto;
    padding: 20px;
    background: #fff;
    border: 1px solid var(--border-color);
    border-radius: var(--radius);
    box-shadow: var(--shadow);
  }
  
  h2 {
    color: var(--primary-color);
    font-size: 1rem;
    margin: 25px 0 15px;
    padding-bottom: 8px;
    border-bottom: 1px solid var(--border-color);
  }

  /* ヘッダーとヘルプアイコン */
  .page-header {
    display: flex;
    align-items: center;
    justify-content: center;
    margin-bottom: 20px;
    position: relative;
  }

  .help-icon {
    width: 24px;
    height: 24px;
    border-radius: 50%;
    background-color: var(--primary-color);
    color: white;
    display: inline-flex;
    align-items: center;
    justify-content: center;
    margin-left: 10px;
    font-size: 14px;
    cursor: pointer;
    user-select: none;
    position: absolute;
    right: 0;
    opacity: 0.8;
    transition: opacity 0.2s, transform 0.2s;
  }
  
  .help-icon:hover {
    opacity: 1;
    transform: scale(1.05);
  }

  .help-tooltip {
    display: none;
    position: absolute;
    background-color: white;
    border: 1px solid var(--border-color);
    border-radius: var(--radius);
    padding: 15px;
    box-shadow: var(--shadow);
    z-index: 1000;
    max-width: 700px; /* 500pxから600pxに変更 (1.2倍) */
    font-size: 14px;
    line-height: 1.5;
    top: 30px;
    right: 0;
    text-align: left;
  }

  .help-tooltip.active {
    display: block;
  }

  .help-tooltip ul {
    margin: 8px 0 8px 20px;
    padding: 0;
  }

  .help-tooltip li {
    margin-bottom: 8px;
  }

  .help-tooltip h4 {
    margin: 12px 0 8px 0;
    color: var(--primary-color);
  }

  /* コントロール部分 */
  .controls {
    display: flex; 
    align-items: center;
    gap: 15px; 
    margin-bottom: 30px;
    flex-wrap: wrap; 
    justify-content: center;
  }
  
  .platform-selector {
    display: flex;
    gap: 5px;
    background: #f8f9fa;
    border-radius: var(--radius);
    padding: 5px;
    margin-right: 10px;
    flex-wrap: wrap;
  }
  
  .platform-btn {
    padding: 8px 16px;
    font-size: 14px;
    border: none;
    border-radius: var(--radius);
    background: transparent;
    color: #606060;
    cursor: pointer;
    transition: all 0.2s ease;
  }
  
  .platform-btn:hover {
    background: rgba(0, 94, 153, 0.1);
  }
  
  .platform-btn.active {
    background: var(--primary-color);
    color: white;
    box-shadow: 0 2px 8px rgba(0, 94, 153, 0.3);
  }
  
  .search-box {
    display: flex;
    background: #f8f9fa;
    border-radius: var(--radius);
    padding: 5px 10px;
    flex-grow: 1;
    max-width: 300px;
    border: 1px solid var(--border-color);
    height: 40px; /* 検索ボックスの高さを固定 */
  }
  
  .search-box input {
    width: 100%;
    border: none;
    background: transparent;
    padding: 0 8px; /* パディングを上下なしに設定 */
    font-size: 14px;
    color: var(--text-color);
    height: 30px; /* 入力欄の高さを固定 */
  }
  
  .search-box input:focus {
    outline: none;
  }
  
  .search-box input::placeholder {
    color: #95a5a6;
  }
  
  .fav-btn {
    padding: 8px 16px;
    font-size: 14px;
    border: none;
    border-radius: var(--radius);
    background: #f8f9fa;
    color: #606060;
    cursor: pointer;
    transition: all 0.2s ease;
    display: flex;
    align-items: center;
    gap: 5px;
    border: 1px solid var(--border-color);
    height: 40px; /* ボタンの高さを固定 */
  }
  
  .fav-btn:hover {
    background: rgba(0, 94, 153, 0.1);
  }
  
  .fav-btn.active {
    background: var(--primary-color);
    color: white;
    box-shadow: 0 2px 8px rgba(0, 94, 153, 0.3);
  }
  
  .fav-icon {
    font-size: 18px;
    position: relative;
    top: -1px;
  }

  /* ショートカットカード */
  .category-section {
    margin-bottom: 30px;
    width: 100%;
  }
  
  .grid-container {
    display: grid;
    grid-template-columns: repeat(3, 1fr); /* 固定で3列のグリッドに変更 */
    gap: 20px;
  }
  
  .panel {
    position: relative; 
    padding: 20px;
    border-radius: var(--radius);
    background: #fff;
    box-shadow: var(--shadow);
    transition: all 0.3s ease;
    border: 1px solid var(--border-color);
  }
  
  .panel:hover {
    transform: translateY(-3px);
    box-shadow: 0 6px 20px rgba(0,0,0,0.12);
  }
  
  .panel .star {
    position: absolute; 
    top: 20px; /* 上部の位置調整 */
    right: 15px;
    font-size: 22px; 
    cursor: pointer;
    color: #ddd; 
    transition: all 0.2s;
    line-height: 1;
  }
  
  .panel .star.favorited {
    color: var(--primary-color);
  }
  
  .panel .help-icon {
    position: absolute; 
    top: 20px; /* 上部の位置調整 */
    right: 45px;
    width: 22px; 
    height: 22px;
    background: #aaa;
    color: white;
    border-radius: 50%;
    display: flex;
    align-items: center;
    justify-content: center;
    font-size: 14px;
    font-weight: bold;
    cursor: pointer;
    transition: all 0.2s;
    line-height: 1;
    opacity: 0.8;
  }
  
  .panel:hover .help-icon {
    background: var(--primary-color);
    opacity: 1;
  }
  
  .panel strong {
    display: block; 
    margin-bottom: 12px;
    color: var(--text-color); 
    font-size: 16px;
    font-weight: 600;
    margin-top: 0; /* 上部マージンを削除 */
    line-height: 22px; /* 行の高さを設定 */
    padding-right: 70px; /* アイコン用の右側余白 */
  }
  
  .keys, .sequence-keys {
    display: flex;
    flex-wrap: wrap;
    gap: 3px;
    align-items: center; /* ← ここを追加して、アイテムを上下中央に */
  }
  
  .key {
    padding: 4px 8px;
    background: #f8f9fa;
    border-radius: var(--radius);
    font-size: 13px;
    font-weight: 500;
    color: var(--text-color);
    border: 1px solid var(--border-color);
  }
  
  .key-step { 
    display: flex; 
    gap: 0px; 
    background: rgba(0, 94, 153, 0.05); 
    border-radius: var(--radius); 
    padding: 2px; 
  }
  
  .key-arrow { 
    color: #95a5a6; 
    font-weight: 600; 
    margin: 0 0px; 
  }
  
  .no-results { 
    grid-column: 1 / -1; 
    text-align: center; 
    padding: 40px; 
    color: #7f8c8d; 
    font-size: 16px; 
  }
  
  .tooltip { 
    position: absolute; 
    display: none; 
    background: var(--primary-dark); 
    color: white; 
    padding: 10px 15px; 
    border-radius: var(--radius); 
    max-width: 100%; 
    width: calc(100% - 40px); 
    z-index: 100; 
    top: 50px; /* 位置を下げる */
    right: 20px; 
    box-shadow: var(--shadow); 
    font-size: 14px; 
    line-height: 1.5; 
  }
  
  /* アニメーション */
  @keyframes fadeIn { 
    from { 
      opacity: 0; 
      transform: translateY(10px); 
    } 
    to { 
      opacity: 1; 
      transform: translateY(0); 
    } 
  }
  
  .panel { 
    animation: fadeIn 0.3s ease-out forwards; 
  }
  
  /* レスポンシブデザイン */
  @media (max-width: 1200px) {
    .grid-container {
      grid-template-columns: repeat(2, 1fr); /* タブレットサイズでは2列に */
    }
  }
  
  @media (max-width: 768px) { 
    .shortcuts-container { 
      padding: 15px; 
    }
    
    .controls { 
      flex-direction: column; 
      align-items: stretch; 
    }
    
    .platform-selector { 
      overflow-x: auto; 
      justify-content: flex-start; 
      margin-right: 0; 
    }
    
    .search-box { 
      max-width: 100%; 
    }
    
    .grid-container {
      grid-template-columns: 1fr; /* モバイルでは1列に */
    }

    .help-tooltip {
      right: auto;
      width: calc(100% - 30px);
      max-width: none;
    }
  }
</style>

<div class="shortcuts-container">
  <div class="page-header">
    <h1>ショートカットキー習得ツール</h1>
    <div class="help-icon" id="helpIcon">?</div>
    <div class="help-tooltip" id="helpTooltip">
      <h4>使い方</h4>
      <ul>
        <li><strong>プラットフォーム選択：</strong>Windows、Mac、Excel、Google Sheetから選んでください。</li>
        <li><strong>検索機能：</strong>特定のショートカット名や動作を検索することができます。</li>
        <li><strong>お気に入り機能：</strong>「★」マークをクリックすると、そのショートカットをお気に入りに追加できます。「お気に入りのみ」ボタンで、お気に入りだけを表示することも可能です。</li>
      </ul>
      <h4>ショートカットカード</h4>
      <ul>
        <li><strong>カード内の「?」アイコン：</strong>クリックすると、そのショートカットの詳細説明が表示されます。</li>
        <li><strong>キーの表示：</strong>ショートカットに必要なキーやキーの組み合わせが視覚的に表示されます。</li>
        <li><strong>連続操作：</strong>矢印（→）で表示されるものは、キーを順番に押す必要があります。</li>
      </ul>
      <h4>便利な機能</h4>
      <ul>
        <li><strong>自動保存：</strong>お気に入りは自動的に保存され、次回訪問時にも引き継がれます。</li>
        <li><strong>おすすめショートカット：</strong>各プラットフォームで特に便利なショートカットが「おすすめショートカット」セクションに表示されます。</li>
      </ul>
    </div>
  </div>
  
  <div class="controls">
    <div class="platform-selector">
      <button class="platform-btn active" data-platform="windows">Windows</button>
      <button class="platform-btn" data-platform="mac">Mac</button>
      <button class="platform-btn" data-platform="excel">Excel</button>
      <button class="platform-btn" data-platform="googlespreadsheet">Google Sheet</button>
    </div>
    <div class="search-box">
      <input type="text" id="searchInput" placeholder="ショートカットを検索...">
    </div>
    <button id="toggleFav" class="fav-btn">
      <span class="fav-icon">☆</span>
      <span class="btn-text">お気に入りのみ</span>
    </button>
  </div>
  
  <div id="shortcuts-container"></div>
</div>

<script>
  document.addEventListener('DOMContentLoaded', () => {
    const shortcutsContainer = document.getElementById('shortcuts-container');
    const searchInput        = document.getElementById('searchInput');
    const favBtn             = document.getElementById('toggleFav');
    const platformBtns       = document.querySelectorAll('.platform-btn');
    const helpIcon           = document.getElementById('helpIcon');
    const helpTooltip        = document.getElementById('helpTooltip');

    // ─── currentPlatform は一度だけ宣言 ───
    let currentPlatform = localStorage.getItem('shortcut_platform') || 'windows';
    // ────────────────────────────────────────

    let shortcuts       = {};
    let showingFavsOnly = false;
    let favs            = JSON.parse(localStorage.getItem('shortcut_favorites') || '[]');
    let searchTerm      = '';
    let currentTooltip  = null;

    // 初期表示時に、対応するボタンだけ active を付与
    platformBtns.forEach(btn => {
      btn.classList.toggle('active', btn.dataset.platform === currentPlatform);
    });

    // ヘルプアイコンのトグル
    helpIcon.addEventListener('click', e => {
      e.stopPropagation();
      helpTooltip.classList.toggle('active');
    });
    document.addEventListener('click', e => {
      if (helpTooltip.classList.contains('active') &&
          e.target !== helpIcon &&
          !helpTooltip.contains(e.target)) {
        helpTooltip.classList.remove('active');
      }
    });

    // データ読み込み＆初回描画
    fetch('shortcuts.json')
      .then(res => res.json())
      .then(data => { shortcuts = data; renderShortcuts(); })
      .catch(err => {
        console.error('データ読み込みエラー:', err);
        shortcutsContainer.innerHTML = '<div class="no-results">ショートカットデータを読み込めませんでした。</div>';
      });

    // 検索フィルター
    searchInput.addEventListener('input', e => {
      searchTerm = e.target.value.toLowerCase();
      renderShortcuts();
    });

    // プラットフォーム切替時の処理
    platformBtns.forEach(btn => {
      btn.addEventListener('click', () => {
        // ボタン見た目
        platformBtns.forEach(b => b.classList.remove('active'));
        btn.classList.add('active');
        // currentPlatform 更新＆保存
        currentPlatform = btn.dataset.platform;
        localStorage.setItem('shortcut_platform', currentPlatform);
        // 再描画
        renderShortcuts();
      });
    });

    // お気に入りトグル
    favBtn.addEventListener('click', () => {
      favBtn.classList.toggle('active');
      showingFavsOnly = favBtn.classList.contains('active');
      favBtn.querySelector('.fav-icon').textContent = showingFavsOnly ? '★' : '☆';
      favBtn.querySelector('.btn-text').textContent = showingFavsOnly ? '全て表示' : 'お気に入りのみ';
      renderShortcuts();
    });

    // パネル内ヘルプツールチップを閉じる
    document.addEventListener('click', e => {
      if (e.target.classList.contains('help-icon')) return;
      if (currentTooltip) {
        currentTooltip.style.display = 'none';
        currentTooltip = null;
      }
    });

    // ─── 既存の renderShortcuts 関数定義 ───
    function renderShortcuts() {
      const data = shortcuts[currentPlatform] || {};
      let html = '';

      if (showingFavsOnly) {
        let list = Object.values(data).flat()
          .filter(item => favs.includes(item.action))
          .filter(item => !searchTerm || item.action.toLowerCase().includes(searchTerm) || (item.comment && item.comment.toLowerCase().includes(searchTerm)));
        const seen = new Set();
        list = list.filter(item => {
          if (seen.has(item.action)) return false;
          seen.add(item.action);
          return true;
        });
        if (list.length > 0) {
          html += `<div class="category-section"><h2>お気に入り</h2><div class="grid-container">`;
          list.forEach((item, i) => html += renderPanel(item, i));
          html += `</div></div>`;
        } else {
          html = '<div class="no-results">該当するショートカットが見つかりません</div>';
        }
      } else {
        // おすすめ
        let allItems = Object.values(data).flat();
        let rec = allItems.filter(item => item.recommend)
          .filter(item => !searchTerm || item.action.toLowerCase().includes(searchTerm) || (item.comment && item.comment.toLowerCase().includes(searchTerm)));
        if (rec.length > 0) {
          html += `<div class="category-section"><h2>おすすめショートカット</h2><div class="grid-container">`;
          rec.forEach((item, i) => html += renderPanel(item, i));
          html += `</div></div>`;
        }
        // カテゴリ別
        Object.keys(data).forEach(category => {
          let list = data[category].filter(item => !searchTerm || item.action.toLowerCase().includes(searchTerm) || (item.comment && item.comment.toLowerCase().includes(searchTerm)));
          if (list.length > 0) {
            html += `<div class="category-section"><h2>${category}</h2><div class="grid-container">`;
            list.forEach((item, i) => html += renderPanel(item, i));
            html += `</div></div>`;
          }
        });
      }

      shortcutsContainer.innerHTML = html;

      // 星クリック
      document.querySelectorAll('.panel .star').forEach(star => {
        star.addEventListener('click', e => {
          e.stopPropagation();
          const action = e.currentTarget.parentElement.dataset.action;
          if (favs.includes(action)) favs = favs.filter(a => a !== action);
          else favs.push(action);
          localStorage.setItem('shortcut_favorites', JSON.stringify(favs));
          document.querySelectorAll(`.panel[data-action="${action}"] .star`)
            .forEach(s => s.classList.toggle('favorited'));
          if (showingFavsOnly) renderShortcuts();
        });
      });

      // ツールチップ
      document.querySelectorAll('.panel .help-icon').forEach(icon => {
        icon.addEventListener('click', e => {
          e.stopPropagation();
          if (currentTooltip) {
            currentTooltip.style.display = 'none';
            if (currentTooltip === icon.nextElementSibling) {
              currentTooltip = null;
              return;
            }
          }
          const tip = icon.nextElementSibling;
          tip.style.display = 'block';
          currentTooltip = tip;
          tip.style.width = (icon.parentElement.offsetWidth - 40) + 'px';
        });
      });
    }

    // ─── renderPanel 関数も既存のまま ───
    function renderPanel(item, index) {
      const isFav = favs.includes(item.action);
      const delay = Math.min(index * 30, 300);
      const isSeq = item.sequence === true;
      const comment = item.comment || '';
      let keysHtml = '';

      if (isSeq) {
        if (item.steps) {
          keysHtml = item.keys.map((stepKeys, i) =>
            `<div class="key-step">${stepKeys.map(k => `<span class="key">${k}</span>`).join('')}</div>${i < item.keys.length - 1 ? '<span class="key-arrow">→</span>' : ''}`
          ).join('');
        } else {
          keysHtml = item.keys.map((k, i) =>
            `<span class="key">${k}</span>${i < item.keys.length - 1 ? '<span class="key-arrow">→</span>' : ''}`
          ).join('');
        }
      } else {
        keysHtml = item.keys.map(k => `<span class="key">${k}</span>`).join('');
      }

      return `
        <div class="panel" data-action="${item.action}" style="animation-delay: ${delay}ms">
          <div class="star ${isFav ? 'favorited' : ''}">★</div>
          <div class="help-icon" title="詳細を表示">?</div>
          <div class="tooltip">${comment}</div>
          <strong>${item.action}</strong>
          <div class="${isSeq ? 'sequence-keys' : 'keys'}">${keysHtml}</div>
        </div>
      `;
    }

  });
</script>